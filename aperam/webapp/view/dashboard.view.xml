<mvc:View 
    controllerName="com.aperam.aperam.controller.dashboard" 
    xmlns:core="sap.ui.core"  
    xmlns="sap.uxap" 
    xmlns:layout="sap.ui.layout" 
    xmlns:fb="sap.ui.comp.filterbar" 
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true" 
    xmlns:m="sap.m">
    
    <m:Page showHeader="false">
        <ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" upperCaseAnchorBar="false">
            <headerTitle>
                <ObjectPageDynamicHeaderTitle>
                    <expandedHeading>
                        <m:Title text="Products" wrapping="true"/>
                    </expandedHeading>
                    <snappedHeading>
                        <m:FlexBox fitContainer="true" alignItems="Center">
                            <m:Title text="Products" wrapping="true"/>
                        </m:FlexBox>
                    </snappedHeading>
                    <actions>
                        <!-- <m:Button text="Edit" type="Emphasized" press=".toggleAreaPriority"/> -->
                          <m:Button text="Create New Product" type="Emphasized" press="onCreateproduct"/>
                        <!-- <m:Button text="Delete" type="Transparent"/> -->
                    </actions>
                </ObjectPageDynamicHeaderTitle>
            </headerTitle>
            <headerContent>
                <fb:FilterBar 
                    id="filterbar" 
                    persistencyKey="myPersKey" 
                    useToolbar="false" 
                    search=".onSearch" 
                    filterChange=".onFilterChange" 
                    afterVariantLoad=".onAfterVariantLoad">
                    <fb:filterGroupItems>
                        <fb:FilterGroupItem 
                            name="ProjectNumber" 
                            label="Project Number" 
                            groupName="Group1" 
                            visibleInFilterBar="true">
                            <fb:control>
                                <m:Input id="projectNumberInput" placeholder="Enter Project Number"/>
                            </fb:control>
                        </fb:FilterGroupItem>
                    </fb:filterGroupItems>
                </fb:FilterBar>
            </headerContent>
            <sections>
                <ObjectPageSection>
                    <subSections>
                        <ObjectPageSubSection>
                            <blocks>
                                <m:Table 
                                    id="idProductsTable" 
                                    sticky="HeaderToolbar,ColumnHeaders" 
                                    inset="false" 
                                    mode="SingleSelectMaster" 
                                    items="{path: 'product>/ProductCollection'}" 
                                    class="sapFDynamicPageAlignContent" 
                                    width="auto" 
                                    itemPress=".onItemPress">
                                    <m:columns>
                                        <m:Column width="12em">
                                            <m:Text text="Plant"/>
                                        </m:Column>
                                        <m:Column width="10em">
                                            <m:Text text="Project Number"/>
                                        </m:Column>
                                        <m:Column width="10em">
                                            <m:Text text="Title"/>
                                        </m:Column>
                                        <m:Column minScreenWidth="Desktop" demandPopin="true">
                                            <m:Text text="Status"/>
                                        </m:Column>
                                        <m:Column minScreenWidth="Desktop" demandPopin="true">
                                            <m:Text text="Capex"/>
                                        </m:Column>
                                        <m:Column minScreenWidth="Desktop" demandPopin="true">
                                            <m:Text text="Currency"/>
                                        </m:Column>
                                        <m:Column minScreenWidth="Desktop" demandPopin="true">
                                            <m:Text text="Categories"/>
                                        </m:Column>
                                        <m:Column minScreenWidth="Desktop" demandPopin="true">
                                            <m:Text text="Date Of Modification"/>
                                        </m:Column>
                                    </m:columns>
                                    <m:items>
                                        <m:ColumnListItem type="Navigation">
                                            <m:cells>
                                                <m:Text text="{product>Plant}"/>
                                                <m:Text text="{product>ProjectNumber}"/>
                                                <m:Text text="{product>Title}"/>
                                                <m:Text text="{product>Status}"/>
                                                <m:Text text="{product>Capex}"/>
                                                <m:Text text="{product>Currency}"/>
                                                <m:Text text="{product>Categories}"/>
                                                <m:Text text="{product>DateOfModification}"/>
                                            </m:cells>
                                        </m:ColumnListItem>
                                    </m:items>
                                </m:Table>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
            </sections>
        </ObjectPageLayout>
    </m:Page>
</mvc:View>
