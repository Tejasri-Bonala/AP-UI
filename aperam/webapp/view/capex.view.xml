<mvc:View controllerName="com.aperam.aperam.controller.capex"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:BlockBase="com.aperam.aperam.blocks" height="100%"
    xmlns:l="sap.ui.layout.form">

    <m:Page showFooter="true" id="pageId">
        <ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false">
            <sections>
                <!-- First Section: Form -->
                <ObjectPageSection titleUppercase="false" title="Investment Request Form">
                    <subSections>
                        <ObjectPageSubSection titleUppercase="false">
                            <blocks>
                                <!-- <BlockBase:CustomBlock id="CustomBlock" /> -->
                                <m:VBox>
                                    <!-- General Information Section -->
                                    <m:Panel headerText="General Information" width="100%">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Project Number" />
                                            <m:Input id="projectNumber1" placeholder="Enter Project Number" width="50%" />

                                            <m:Label text="CTO Label" />
                                            <m:ComboBox id="ctoLabel1" width="50%" placeholder="Select CTO Label">
                                                <core:Item key="FastTrack" text="Fast Track" />
                                                <core:Item key="RestrictedBudget" text="Restricted Budget" />
                                            </m:ComboBox>
                                            <m:Label text="Project Maturity" />
                                            <m:Input id="projectMaturity1" placeholder="Enter Project Maturity" width="50%" />
                                        </l:SimpleForm>
                                    </m:Panel>

                                    <!-- Financial Information Section -->
                                    <m:Panel headerText="Financial Information" width="100%">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Title" />
                                            <m:Input id="title1" placeholder="Enter Project Title" width="50%" />

                                            <m:Label text="Accounting Type" />
                                            <m:ComboBox id="accountingType1" width="50%" placeholder="Select Accounting Type" selectionChange="onAccountingTypeChange">
                                                <core:Item key="Capex" text="Capex " />
                                                <core:Item key="Capex/Opex" text="Capex/Opex" />
                                                <core:Item key="Opex" text="Opex " />
                                                <core:Item key="Lease" text="Lease" />
                                            </m:ComboBox>

                                            <m:Label text="Currency" />
                                            <m:Input id="currency1" placeholder="Enter Currency" width="50%" />

                                            <m:Label text="Forex (vs €)" />
                                            <m:Input id="forex1" placeholder="Enter Forex (vs €)" width="50%" />
                                        </l:SimpleForm>
                                    </m:Panel>

                                    <!-- Project Details Section -->
                                    <m:Panel headerText="Project Details" width="100%">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Perimeter" />
                                            <m:Input id="perimeter1" placeholder="Enter Perimeter" width="50%" />

                                            <m:Label text="Plant" />
                                            <m:Input id="plant1" placeholder="Enter Plant" width="50%" />

                                            <m:Label text="Capex" />
                                            <m:Input id="capex1" placeholder="Enter Capex" width="50%" visible="{= ${/selectedAccountingType} === 'Capex' || ${/selectedAccountingType} === 'Capex/Opex'}" />

                                            <m:Label text="Opex" />
                                            <m:Input id="opex1" placeholder="Enter Opex" width="50%" visible="{= ${/selectedAccountingType} === 'Opex' || ${/selectedAccountingType} === 'Capex/Opex'}" />

                                            <m:Label text="Lease" />
                                            <m:Input id="lease1" placeholder="Enter Lease" width="50%" visible="{= ${/selectedAccountingType} === 'Lease'}" />
                                        </l:SimpleForm>
                                    </m:Panel>
                                    <!-- Categories Section -->
                                    <m:Panel headerText="Categories" width="100%">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Categories" />
                                            <m:Input id="categories1" placeholder="Enter Categories" width="50%" />
                                            <m:Label text="Year N" />
                                            <m:DatePicker  displayFormat="yyyy" valueFormat="yy" width="50%" id="year" />
                                        </l:SimpleForm>
                                    </m:Panel>

                                    <!-- Yearly Forecast Section -->
                                    <m:Panel headerText="Yearly Forecast" width="100%" visible="false">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Year N" />
                                            <m:Input id="yearN1" placeholder="Enter Year N" width="50%" />

                                            <m:Label text="Forecast Current Year" />
                                            <m:Input id="forecastCurrentYear" width="50%" />

                                            <m:Label text="Forecast Year N+1" />
                                            <m:Input id="forecastYearN1" placeholder="Enter Forecast Year N+1" width="50%" />

                                            <m:Label text="Forecast Year N+2" />
                                            <m:Input id="forecastYearN2" placeholder="Enter Forecast Year N+2" width="50%" />
                                        </l:SimpleForm>
                                    </m:Panel>

                                    <!-- Deliverables Section -->
                                    <m:Panel headerText="Deliverables" width="100%" visible="false">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="IRR" />
                                            <m:Input id="irr1" placeholder="Enter IRR" width="50%" />

                                            <m:Label text="Promised Gain Year N" />
                                            <m:Input id="promisedGainYearN" placeholder="Enter Promised Gain Year N" width="50%" />

                                            <m:Label text="Promised Gain Year N+1" />
                                            <m:Input id="promisedGainYearN1" placeholder="Enter Promised Gain Year N+1" width="50%" />

                                            <m:Label text="Promised Gain Year N+2" />
                                            <m:Input id="promisedGainYearN2" placeholder="Enter Promised Gain Year N+2" width="50%" />

                                            <m:Label text="Promised Gain Year N+3" />
                                            <m:Input id="promisedGainYearN3" placeholder="Enter Promised Gain Year N+3" width="50%" />
                                        </l:SimpleForm>
                                    </m:Panel>

                                    <!-- Purchasing Section -->
                                    <m:Panel headerText="Purchasing" width="100%" visible="false">
                                        <l:SimpleForm editable="true" width="100%">
                                            <m:Label text="Comments" />
                                            <m:TextArea id="comments1" placeholder="Enter comments" width="50%" />
                                        </l:SimpleForm>
                                    </m:Panel>
                                </m:VBox>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>

                <!-- Second Section: Workflow Status -->
                <ObjectPageSection titleUppercase="false" title="Workflow Status">
                    <subSections>
                        <ObjectPageSubSection titleUppercase="false">
                            <blocks>
                                <BlockBase:Workflow />
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>

                <!-- Third Section: Input Feed (Comments) -->
                <ObjectPageSection titleUppercase="false" title="Comments">
                    <subSections>
                        <ObjectPageSubSection titleUppercase="false">
                            <blocks>
                                <!-- <BlockBase:Comments id="Comments" /> -->
                                <m:VBox>
                                    <m:Label text="Add Comment"/>
                                    <m:FeedInput id="feedInput" placeholder="Write a comment..." />
                                </m:VBox>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
            </sections>
        </ObjectPageLayout>

        <!-- Footer with Submit and Cancel buttons -->
        <m:footer>
            <m:OverflowToolbar id="otbFooter">
                <m:ToolbarSpacer />
                <m:Button text="Submit" type="Emphasized" press="onSubmitPress" />
                <m:Button text="Cancel" type="Transparent" press="onCancelPress" />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>
